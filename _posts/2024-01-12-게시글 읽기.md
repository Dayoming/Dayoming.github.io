---
title: "[Spring Boot] ê²Œì‹œê¸€ ì½ê¸°: Read"
date: YYYY-MM-DD HH:MM:SS +09:00
categories: [Spring, Spring Boot]
tags:
    [
        Spring,
        Java,
        Spring Boot,
        ì½”ë”©ììœ¨í•™ìŠµë‹¨
    ]
---
# ë°ì´í„° ì¡°íšŒ ê³¼ì •
ì›¹ í˜ì´ì§€ì—ì„œ ê²Œì‹œê¸€ì„ ë“±ë¡í•˜ë©´ ì„œë²„ë¥¼ í†µí•´ DBì— ì €ì¥ëœë‹¤. ì´ë ‡ê²Œ DBì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ì›¹ í˜ì´ì§€ì— ì¶œë ¥í•˜ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ì¡°íšŒí•´ ë‹¬ë¼ê³  ì›¹ í˜ì´ì§€ì—ì„œ **URL ìš”ì²­**ì„ ë³´ë‚¸ë‹¤
2. ì„œë²„ì˜ **ì»¨íŠ¸ë¡¤ëŸ¬ê°€** ìš”ì²­ì„ ë°›ì•„ í•´ë‹¹ URLì—ì„œ ì°¾ìœ¼ë ¤ëŠ” ë°ì´í„° ì •ë³´ë¥¼ **ë¦¬íŒŒì§€í„°ë¦¬ì— ì „ë‹¬**í•œë‹¤.
3. ë¦¬íŒŒì§€í„°ë¦¬ëŠ” ì •ë³´ë¥¼ ê°€ì§€ê³  DBì— **ë°ì´í„° ì¡°íšŒë¥¼ ìš”ì²­**í•œë‹¤.
4. **DB**ëŠ” í•´ë‹¹ ë°ì´í„°ë¥¼ ì°¾ì•„ ì´ë¥¼ **ì—”í‹°í‹°ë¡œ ë°˜í™˜í•œë‹¤**.
5. ë°˜í™˜ëœ ì—”í‹°í‹°ëŠ” **ëª¨ë¸**ì„ í†µí•´ **ë·° í…œí”Œë¦¿ìœ¼ë¡œ ì „ë‹¬**ëœë‹¤.
6. ìµœì¢…ì ìœ¼ë¡œ ê²°ê³¼ ë·° í˜ì´ì§€ê°€ ì™„ì„±ë¼ ì‚¬ìš©ìì˜ í™”ë©´ì— ì¶œë ¥ëœë‹¤.

# ë‹¨ì¼ ë°ì´í„° ì¡°íšŒí•˜ê¸°
## URL ìš”ì²­ë°›ê¸°
> ê²Œì‹œê¸€ 1ë²ˆ idë¥¼ ì¡°íšŒí•  ë•Œ /articles/1, 2ë²ˆ idë¥¼ ì¡°íšŒí•  ë•Œ /articles/2 í˜•ì‹ìœ¼ë¡œ ì ‘ì†í•˜ë„ë¡ í•œë‹¤.

### URL ìš”ì²­ì„ ë°›ì•„ì¤„ ì»¨íŠ¸ë¡¤ëŸ¬ ë§Œë“¤ê¸°

```java
 @GetMapping("/articles/{id}")
    public String show(@PathVariable Long id) {
        return "";
    }
```

* URL ìš”ì²­ì„ ë°›ì•„ ìˆ˜í–‰í•  ë©”ì„œë“œë¥¼ ë§Œë“ ë‹¤. ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ëŠ” URLì— ìˆëŠ” `id`ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë°, `id` ì•ì— `@PathVariable` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì¸ë‹¤. URL ìš”ì²­ìœ¼ë¡œ ë“¤ì–´ì˜¨ ì „ë‹¬ê°’ì„ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ê°€ì ¸ì˜¤ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.

* ë¡œê¹…ì„ í†µí•´ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ `id`ë¥¼ ì˜ ë°›ì•„ì™”ëŠ”ì§€ í™•ì¸í•œë‹¤.

```java
log.info("id = " + id);
```

![Article url](/assets/img/posts/2024-01-12-3.png)

![Articel log](/assets/img/posts/2024-01-12-4.png)

/articles/1000ì„ ì…ë ¥í–ˆì„ ë•Œ `id`ê°’ìœ¼ë¡œ 1000ì„ ì˜ ë°›ì•„ì˜¤ê³  ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

## ë°ì´í„° ì¡°íšŒí•´ ì¶œë ¥í•˜ê¸°
### idë¥¼ ì¡°íšŒí•´ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

DBì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì£¼ì²´ì¸ ë¦¬íŒŒì§€í„°ë¦¬ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

```java
Article articleEntity = articleRepository.findById(id).orElse(null);
```

íŠ¹ë³„íˆ ì¡°íšŒëœ ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš°ë„ ì²˜ë¦¬í•´ì£¼ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— `orElse(null)`ì„ ì‚¬ìš©í•œë‹¤. `id`ê°’ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì°¾ì„ ë•Œ í•´ë‹¹ `id`ê°’ì´ ì—†ìœ¼ë©´ `null`ì„ ë°˜í™˜í•œë‹¤.

ìë°” 8 ë²„ì „ë¶€í„° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆë‹¤.

```java
Optional<Article> articleEntity = articleRepository.findById(id);
```

### ëª¨ë¸ì— ë°ì´í„° ë“±ë¡í•˜ê¸°

MVC íŒ¨í„´ì— ë”°ë¼ ì¡°íšŒí•œ ë°ì´í„°ë¥¼ ë·° í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ëª¨ë¸ì— ë°ì´í„°ë¥¼ ë“±ë¡í•´ì•¼ í•œë‹¤.

```java
model.addAttribute("article", articleEntity);
```

ëª¨ë¸ì— ë°ì´í„°ë¥¼ ë“±ë¡í•  ë•ŒëŠ” `model.addAddribute(String name, Object value)` í˜•ì‹ìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.

### ë·° í˜ì´ì§€ ë°˜í™˜í•˜ê¸°

ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ show ë©”ì„œë“œì˜ ë°˜í™˜ê°’ì„ ë³´ì—¬ì¤„ í˜ì´ì§€ ê²½ë¡œë¡œ ìˆ˜ì •í•œë‹¤.

```java
return "articles/show";
```

ì´ì œ ë°ì´í„°ë¥¼ ë³´ì—¬ì¤„ mustache íŒŒì¼ì„ ì‘ì„±í•œë‹¤. ëª¨ë¸ì— ë“±ë¡í•œ article ì—”í‹°í‹°ëŠ” ë·° í˜ì´ì§€ì—ì„œ ì´ì¤‘ ì¤‘ê´„í˜¸ë¥¼ ì´ìš©í•´ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.

~~~html
{{>layouts/header}}

<table class="table">
    <thead>
    <tr>
        <th scope="col">Id</th>
        <th scope="col">Title</th>
        <th scope="col">Content</th>
    </tr>
    </thead>
    <tbody>
    {{#article}}
        <tr>
            <th scope="row">{{id}}</th>
            <td colspan="2">{{title}}</td>
            <td>{{content}}</td>
        </tr>
    {{/article}}
    </tbody>
</table>

{{>layouts/footer}}
~~~

#### Article ì—”í‹°í‹°ì— ê¸°ë³¸ ìƒì„±ì ì¶”ê°€í•˜ê¸°
ì—”í‹°í‹°ì— ê¸°ë³¸ ìƒì„±ìê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì¡°íšŒ ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. Article ì—”í‹°í‹°ì— `@NoArgsConstructor` ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ê¸°ë³¸ ìƒì„±ìë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

![Alt text](/assets/img/posts/2024-01-12-5.png)

![Alt text](/assets/img/posts/2024-01-12-6.png)

ì„œë²„ë¥¼ ì¬ì‹œì‘í•˜ê³  ê¸€ì„ ë“±ë¡í•œ í›„ articles/1ì— ì ‘ì†í•˜ë©´ ë°©ê¸ˆ ë“±ë¡í•œ ê²Œì‹œê¸€ì„ ì¡°íšŒí•  ìˆ˜ ìˆê²Œ ëœë‹¤.

# ë°ì´í„° ëª©ë¡ ì¡°íšŒí•˜ê¸°
> ë°ì´í„° ëª©ë¡ ì¡°íšŒëŠ” ë‹¨ì¼ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œì™€ ê³¼ì •ì€ ê°™ì§€ë§Œ ì—”í‹°í‹°ì˜ ë¬¶ìŒì¸ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•œë‹¤ëŠ” ì ì´ ë‹¤ë¥´ë‹¤.

## `findAll()` ë©”ì„œë“œë¥¼ ë°˜í™˜ë°›ëŠ” ì„¸ ê°€ì§€ ë°©ë²•

`findAll()` ë©”ì„œë“œëŠ” Iterable í˜•ì‹ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê³  ìˆë‹¤. ì´ í˜•ì‹ê³¼ ê´€ë ¨ëœ ì¸í„°í˜ì´ìŠ¤/í´ë˜ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

ArrayList(Class) > List(Interface) > Collection(Interface) > **Iterable**(Interface)

ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì„¸ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë°˜í™˜ë°›ì„ ìˆ˜ ìˆë‹¤.

### Down Castingí•´ì„œ List ì‚¬ìš©í•˜ê¸°

`findAll()` ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ë°ì´í„° íƒ€ì… `Iterable<Article>`ì„ `List<Article>`ë¡œ ë‹¤ìš´ìºìŠ¤íŒ…í•œë‹¤.

### Up Castingí•´ì„œ Iterable ì‚¬ìš©í•˜ê¸°

articleEntityListì˜ íƒ€ì…ì„ `findAll()` ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” íƒ€ì…ìœ¼ë¡œ ë§ì¶˜ë‹¤.

```java
Iterable<Article> articleEntityList = articleRepository.findAll();
```

### ArrayListë¥¼ ë°˜í™˜ë°›ë„ë¡ ìˆ˜ì •í•˜ê¸°

CurdRepositoryë¥¼ ìƒì†ë°›ê³  ìˆëŠ” ArticleRepositoryì˜ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•´ `findAll()`ì˜ ë°˜í™˜ê°’ì„ ArrayListë¡œ ë°”ê¿”ì¤€ë‹¤.

```java
public interface ArticleRepository extends CrudRepository<Article, Long> {
    @Override
    ArrayList<Article> findAll();
}
```

```java
ArrayList<Article> articleEntityList = articleRepository.findAll();
```

## ë·° í˜ì´ì§€ ì„¤ì •í•˜ê¸°

ë·° í˜ì´ì§€ë„ ë˜‘ê°™ì´ ì„¤ì •í•´ì¤€ë‹¤. ë·° í˜ì´ì§€ì—ì„œ #articleListëŠ” **Entityê°€ ì¡´ì¬í•˜ëŠ” ë§Œí¼ ë‚´ë¶€ ì½”ë“œë¥¼ ë°˜ë³µ**í•˜ê²Œ ëœë‹¤.

~~~html
{{>layouts/header}}

<table class="table">
    <thead>
    <tr>
        <th scope="col">Id</th>
        <th scope="col">Title</th>
        <th scope="col">Content</th>
    </tr>
    </thead>
    <tbody>
    {{#articleList}}
        <tr>
            <th scope="row">{{id}}</th>
            <td colspan="2">{{title}}</td>
            <td>{{content}}</td>
        </tr>
    {{/articleList}}
    </tbody>
</table>

{{>layouts/footer}}
~~~

![Alt text](/assets/img/posts/2024-01-12-7.png)

# ğŸ”— ì°¸ê³ ìë£Œ
* [ì½”ë”© ììœ¨í•™ìŠµ ìŠ¤í”„ë§ ë¶€íŠ¸ 3 ìë°” ë°±ì—”ë“œ ê°œë°œ ì…ë¬¸](https://www.gilbut.co.kr/book/view?bookcode=BN003778)

# ğŸ“š ë” ê³µë¶€í•´ì•¼ í•  ê²ƒ
* Optional
* Iterable, List, ArrayList > ì—…ìºìŠ¤íŠ¸ì™€ ë‹¤ìš´ìºìŠ¤íŒ… ì‹¤ìŠµ
* Generic
* @PathVariable
* CrudRepository