---
title: "[Spring Boot] ë¡¬ë³µìœ¼ë¡œ ë¦¬íŒ©í† ë§ í•˜ê¸°ğŸ› "
date: YYYY-MM-DD HH:MM:SS +09:00
categories: [Spring, Spring Boot]
tags:
    [
        Spring,
        Java,
        Spring Boot,
        ì½”ë”©ììœ¨í•™ìŠµë‹¨
    ]
---
# ë¡¬ë³µ(Lombok)ì´ë€?
> ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ìœ¼ë¡œ ì½”ë“œë¥¼ ìë™ì™„ì„± í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

* `Getter`, `Setter`, `toString`, `constructor()` ê³¼ ê°™ì€ ì½”ë“œë¥¼ ìë™ì™„ì„± ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
* ì½”ë“œì˜ **ê°€ë…ì„±ì„ í–¥ìƒ**ì‹œí‚¨ë‹¤.
* ì½”ë“œ ìë™ ìƒì„±ì„ í†µí•´ **ìƒì‚°ì„±ì„ í–¥ìƒ**ì‹œí‚¨ë‹¤.
* ë¹Œë” íŒ¨í„´ì´ë‚˜ ë¡œê·¸ ìƒì„± ë“± **ë‹¤ì–‘í•œ ë°©ë©´ìœ¼ë¡œë„ í™œìš©**í•  ìˆ˜ ìˆë‹¤.

```java
public class ArticleForm {
    private String title;
    private String content;

    public ArticleForm(String title, String content) {
        this.title = title;
        this.content = content;
    }

    @Override
    public String toString() {
        return "ArticleForm{" +
                "title='" + title + '\'' +
                ", content='" + content + '\'' +
                '}';
    }
}
```

ì´ë ‡ê²Œ ìƒì„±ì, `toString()` ë©”ì„œë“œê°€ ë“¤ì–´ê°„ DTO ì½”ë“œë¥¼

```java
@AllArgsConstructor
@ToString
public class ArticleForm {
    private String title;
    private String content;
}
```

ì´ë ‡ê²Œ ì¤„ì¼ ìˆ˜ ìˆë‹¤!

# ë¡¬ë³µ ì„¤ì¹˜í•˜ê¸°
* IntelliJ 2020.03 ì´í›„ ë²„ì „ì—ì„œëŠ” ê¸°ë³¸ Pluginìœ¼ë¡œ Lombokì´ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤.
* ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´, File > Settings > Plugins > Marketplaceì— lombokì„ ê²€ìƒ‰í•˜ê³  ì„¤ì¹˜í•´ ì¤€ë‹¤.
* Spring Boot í”„ë¡œì íŠ¸ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ `build.gradle` íŒŒì¼ `dependencies`ì— ì¶”ê°€ í›„ ë™ê¸°í™”í•˜ë©´ ë¡¬ë³µ ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¸í„°ë„·ì—ì„œ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ í•´ì¤€ë‹¤.

```
	compileOnly 'org.projectlombok:lombok'
	annotationProcessor 'org.projectlombok:lombok'
```

![Lombok installed](/assets/img/posts/2024-01-12-1.png)

# ë¡¬ë³µ ì‚¬ìš©í•˜ê¸°
## @Slf4j
`println()` ë¬¸ìœ¼ë¡œ í™•ì¸í•˜ê³  ì‹¶ì€ ë°ì´í„°ë¥¼ ê²€ì¦í•˜ë©´ ê¸°ë¡ì— ë‚¨ì§€ ì•Šì„ ë¿ë”ëŸ¬ ì„œë²„ì˜ ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ë¼ì¹œë‹¤. ë¡œê¹… ê¸°ëŠ¥ìœ¼ë¡œ ë¡œê·¸ë¥¼ ë‚¨ê²¨ ì„œë²„ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ì„ ê¸°ë¡í•´ë³´ì.

```java
@Slf4j
@Controller
public class ArticleController {
    @Autowired
    private ArticleRepository articleRepository;
    @GetMapping("/articles/new")
    public String newArticleForm() {
        return "articles/new";
    }

    @PostMapping("/articles/create")
    public String createArticle(ArticleForm form) {
        Article article = form.toEntity();
        log.info(article.toString());

        Article saved = articleRepository.save(article);
        log.info(form.toString());
        return "";
    }
}
```

ë¡¬ë³µì˜ `@Slf4j` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ `log.info()`ë¥¼ í†µí•´ ì›í•˜ëŠ” ë‚´ìš©ì„ ë¡œê·¸ì— ë‚¨ê¸¸ ìˆ˜ ìˆë‹¤.

![logging](/assets/img/posts/2024-01-12-2.png)

## @ToString
* Lombokì´ ToString ë©”ì„œë“œë¥¼ ìƒì„±í•´ì¤€ë‹¤. `includeFieldNames` ì˜µì…˜ìœ¼ë¡œ  í•„ë“œëª…ì„ í¬í•¨í• ì§€ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
* ì¶”ê°€ ì˜µì…˜ì„ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ `MyClass(foo=123, bar=234)` í˜•íƒœë¡œ ì¶œë ¥ëœë‹¤.
* ì¶œë ¥ì„ ì›í•˜ì§€ ì•ŠëŠ” ë³€ìˆ˜ì—ëŠ” `@ToString.Exclude` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì¤€ë‹¤.

```java
public class LombokTestForm {
    private String name;
    private Integer age;
    private String gender;
    private String phoneNumber;

    @Override
    public String toString() {
        return "LombokTestForm{" +
                "name='" + name + '\'' +
                ", age=" + age +
                ", gender='" + gender + '\'' +
                ", phoneNumber='" + phoneNumber + '\'' +
                '}';
    }
}
```

```java
@ToString
public class LombokTestForm {
    private String name;
    private Integer age;
    private String gender;
    private String phoneNumber;
}
```

## @Getter/@Setter
* Getter, Setter ë©”ì„œë“œë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤.

```java
@Getter
@Setter
@ToString
public class LombokTestForm {
    private String name;
    private Integer age;
    private String gender;
    private String phoneNumber;
}
```

## @NonNull
* null ê²€ì‚¬ë¬¸ì„ ìƒì„±í•œë‹¤.

**With Lombok**

```java
public class NonNullExample extends Something {
  private String name;
  
  public NonNullExample(@NonNull Person person) {
    super("Hello");
    this.name = person.getName();
  }
}
```

**Vanilla Java**

```java
public class NonNullExample extends Something {
  private String name;
  
  public NonNullExample(@NonNull Person person) {
    super("Hello");
    // Null ê²€ì‚¬ë¬¸ì„ ìƒì„±í•œë‹¤.
    // ë§Œì•½ personì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ NullPointerExceptionì„ ë˜ì§„ë‹¤.
    if (person == null) {
      throw new NullPointerException("person is marked non-null but is null");
    }
    this.name = person.getName();
  }
}
```

## @NoArgsConstructor, @RequiredArgsConstructor, @AllArgsConstructor
* `@NoArgsConstructor` : ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ìë¥¼ ìƒì„±í•œë‹¤.
* `@RequiredArgsConstructor` : íŠ¹ë³„í•œ ì²˜ë¦¬ê°€ í•„ìš”í•œ ê° í•„ë“œì— ëŒ€í•´ 1ê°œì˜ ë§¤ê°œë³€ìˆ˜ê°€ ìˆëŠ” ìƒì„±ìë¥¼ ìƒì„±í•œë‹¤. ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ ëª¨ë“  ìµœì¢… í•„ë“œëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì§€ë©° ì„ ì–¸ëœ ìœ„ì¹˜ì—ì„œ ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ @NonNullë¡œ í‘œì‹œëœ ëª¨ë“  í•„ë“œë„ ê°€ì ¸ì˜¨ë‹¤. @NonNullë¡œ í‘œì‹œëœ í•„ë“œì˜ ê²½ìš° ëª…ì‹œì  Null ê²€ì‚¬ë„ ìƒì„±ëœë‹¤.
* `@AllArgsConstructor` : í´ë˜ìŠ¤ì˜ ê° í•„ë“œì— ëŒ€í•´ 1ê°œì˜ ë§¤ê°œë³€ìˆ˜ê°€ ìˆëŠ” ìƒì„±ìë¥¼ ìƒì„±í•œë‹¤. @NonNullë¡œ í‘œì‹œëœ í•„ë“œëŠ” í•´ë‹¹ ë§¤ê°œë³€ìˆ˜ì— ëŒ€í•´ null ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•œë‹¤.

**With Lombok**

```java
@RequiredArgsConstructor(staticName = "of")
@AllArgsConstructor(access = AccessLevel.PROTECTED)
public class ConstructorExample<T> {
  private int x, y;
  @NonNull private T description;
  
  @NoArgsConstructor
  public static class NoArgsExample {
    @NonNull private String field;
  }
}
```

**Vanilla Java**

```java
public class ConstructorExample<T> {
  private int x, y;
  @NonNull private T description;
  
  // @RequiredArgsConstructorì— ì˜í•´ ë§Œë“¤ì–´ì§€ëŠ” ë©”ì„œë“œ
  // íŠ¹ì • ë³€ìˆ˜ë§Œì„ í™œìš©í•œ ìƒì„±ìë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.
  private ConstructorExample(T description) {
    if (description == null) throw new NullPointerException("description");
    this.description = description;
  }
  
  public static <T> ConstructorExample<T> of(T description) {
    return new ConstructorExample<T>(description);
  }
  
  // @AllArgsConstructorì— ì˜í•´ ë§Œë“¤ì–´ì§€ëŠ” ë©”ì„œë“œ
  // AccessLevelì„ Protectedë¡œ ì„¤ì •í–ˆìœ¼ë¯€ë¡œ protectedë¡œ ë§Œë“¤ì–´ì§„ë‹¤.
  // ëª¨ë“  ë§¤ê°œë³€ìˆ˜ê°€ ìˆëŠ” ìƒì„±ìë¥¼ ìƒì„±í•˜ê³  descriptionì— ëŒ€í•´ Null ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•œë‹¤.
  @java.beans.ConstructorProperties({"x", "y", "description"})
  protected ConstructorExample(int x, int y, T description) {
    if (description == null) throw new NullPointerException("description");
    this.x = x;
    this.y = y;
    this.description = description;
  }
  
  // @NoArgsConstructorì— ì˜í•´ ë§Œë“¤ì–´ì§€ëŠ” ë©”ì„œë“œ
  // ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ìë¥¼ ìƒì„±í•œë‹¤.
  public static class NoArgsExample {
    @NonNull private String field;
    
    public NoArgsExample() {
    }
  }
}
```

## @Data
* `@ToString`, `@EqualsAndHashCode`, `@Getter/Setter`, `@RequiredArgsConstructor`ë¥¼ ìë™ì™„ì„± ì‹œì¼œì¤€ë‹¤.
* ì‹¤ë¬´ì—ì„œëŠ” ë¬´ê²ê³  ê°ì²´ì˜ ì•ˆì •ì„±ì„ ì§€í‚¤ê¸° ìœ„í•´ ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë‹¤.

## @EqualsAndHashCode
* í´ë˜ìŠ¤ì— ëŒ€í•œ `equals` í•¨ìˆ˜ì™€ `hashCode` í•¨ìˆ˜ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤€ë‹¤.
* ì˜ˆë¥¼ ë“¤ì–´, `name`, `gender`, `phoneNumber`ê°€ ê°™ì€ ê°ì²´ëŠ” ê°™ì€ ê°ì²´ë¡œ íŒë‹¨í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ëœë‹¤.

**With Lombok**

```java
@EqualsAndHashCode(of = {"name", "gender", "phoneNumber"})
public class LombokTestForm {
    private Long id;
    private String name;
    private Integer age;
    private String gender;
    private String phoneNumber;
    private String address;
}
```

**Vanilla Java**

```java
public class People {
    private Long id;
    private String name;
    private Integer age;
    private boolean gender;
    private String phoneNumber;
    private String address;

    public People(String name, Integer age, String phoneNumber) {
        this.name = name;
        this.age = age;
        this.phoneNumber = phoneNumber;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (!(o instanceof People people)) return false;
        return gender == people.gender && Objects.equals(name, people.name) && Objects.equals(phoneNumber, people.phoneNumber);
    }

    @Override
    public int hashCode() {
        return Objects.hash(id, name, age, gender, phoneNumber, address);
    }
}
```

# ğŸ”— ì°¸ê³ ìë£Œ
* [ì½”ë”© ììœ¨í•™ìŠµ ìŠ¤í”„ë§ ë¶€íŠ¸ 3 ìë°” ë°±ì—”ë“œ ê°œë°œ ì…ë¬¸](https://www.gilbut.co.kr/book/view?bookcode=BN003778)
* [Project Lombok - features](https://projectlombok.org/features/)
* [ë§ë‚˜ë‹ˆê°œë°œìë‹˜ì˜ ë¸”ë¡œê·¸](https://mangkyu.tistory.com/78)

# ğŸ“š ë” ê³µë¶€í•´ì•¼ í•  ê²ƒ
* Log ê´€ë ¨ ì–´ë…¸í…Œì´ì…˜ì´ ë§ì€ë°(Log, Log4j, Log4j2, Slf4j, XSlf4j, JBossLog...) ê°ê°ì˜ ì°¨ì´ì ì´ ë­˜ê¹Œ? ì–´ë–¤ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ì„ê¹Œ?